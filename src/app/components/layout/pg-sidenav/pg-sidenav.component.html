<nav class="sidebar">
  <button
    class="btn btn-danger close-btn"
    (click)="closeSidebar()"
    *ngIf="width < 768"
  >
    Закрити
  </button>

  <div
    class="user-info d-flex align-items-center"
    *ngIf="userProfileData && (isAuthenticated | async)"
  >
    <img
      [src]="getAvatarUrl()"
      alt="Avatar"
      (error)="onImageError($event)"
      class="avatar img-fluid rounded-circle"
    />
    <span [routerLink]="['/profile']" class="username">{{
      userProfileData.username
    }}</span>
  </div>

  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/posts']"> 🏠 <span>Home</span> </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/users']"> 📄 <span>Users</span> </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/chat']"> ⚙️ <span>Chats</span> </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/projects']">
        ⚙ <span>Projects</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/notifications']">
        ⚙ <span>Notifications</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/friends']">
        ⚙ <span>Friends</span>
      </a>
    </li>
  </ul>

  <div class="auth-buttons" *ngIf="!(isAuthenticated | async)">
    <button [routerLink]="['/auth/login']">Login</button>
    <button [routerLink]="['/auth/register']">Register</button>
  </div>

  <div class="logout-button" *ngIf="isAuthenticated | async">
    <button (click)="logout()">Logout</button>
  </div>
</nav>
